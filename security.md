## セキュリティ対策について

---

### 要点

1. **システムのセキュリティ重要性**: システムが正常に稼働し続けるためには、セキュリティについても意識する必要がある。例として、誤ったパスワードでのログインが可能なシステムや、管理者パスワードがネットで公開されているシステムは使用や運用を避けるべき。
2. **セキュリティの基本原則**:
   - 想定されるリスクを洗い出す。
   - リスクに対する対応方針（アクション）を定義する。
     - **受容**: リスクをそのまま受け入れ、特に対策を行わない。
     - **低減**: リスクの影響を減少させる対策を実施。
     - **移転（転嫁）**: リスク管理を他者に委ねる。
     - **回避**: リスクが発生しないような対策を行う。
3. **想定されるリスク**:
   - データの盗難、改ざん、破壊。
   - 脆弱性（システムの弱点）。例: log4j2問題。
   - 認証情報の流出。例: GitHubへの誤ったアップロード、IAMアクセスキーの流出。
   - 人為的な過負荷。例: DDoS攻撃。
4. **セキュリティ対策計画の主体**: セキュリティ対策計画の主体はエンジニアではなく、事業責任者であるべき。エンジニアは専門家としての知見を提供する立場。

---

### 専門用語解説

- **脆弱性**: システムやソフトウェアに存在する弱点や不具合。これを利用されると、不正アクセスやデータ流出などのセキュリティインシデントが発生する可能性がある。
- **log4j2問題**: 人気のJavaログライブラリであるlog4j2に存在した脆弱性。この脆弱性を悪用することで、攻撃者は任意のコードを実行することが可能となっていた。
- **IAMアクセスキー**: AWS (Amazon Web Services) の認証情報。これが流出すると、不正なアクセスやリソースの悪用が行われる可能性がある。
- **DDoS攻撃**: Distributed Denial of Serviceの略。多数のコンピューターから目標となるサービスに大量のアクセスを仕掛け、サービスを停止させる攻撃。

---

### AWSでのセキュリティ対策：脆弱性と認証情報の流出

1. **脆弱性対策**:
    - AWSはアプリケーション、OS/ミドルウェア、ネットワークの脆弱性対策をサポートするサービスを提供しています。
    - アプリケーション脆弱性に対しては、`CodeGuru Reviewer`や`Dependabot`、`WAF`などのサービスやツールを使用。
    - OSやミドルウェアの脆弱性には`Inspector`や`SSM Patch Manager`を活用。
    - ネットワークやその他の脆弱性には`Security Hub`を使用して設定情報の監視や対策を行う。
  
2. **認証情報の流出対策**:
    - 認証情報はIAMやアプリケーションのログイン情報、DB接続情報などを含む。
    - IAMではMFAやアクセスキーの利用制限を行い、アプリケーションの情報は暗号化と鍵の保護を重視。
    - AWSでは`KMS`と`Secrets Manager`を組み合わせて認証情報の安全な保管と呼び出しをサポート。

**具体的なツール・サービスの解説**:

- **CodeGuru Reviewer**: AIを利用してコードのスキャンを行い、改善提案を行うサービス。
- **Dependabot**: モジュールやライブラリの更新を指摘するBot。
- **WAF (Web Application Firewall)**: Webアプリケーションの脆弱性に対する防御策。AWSでは`AWS WAF`として提供。
- **Inspector**: 脆弱性のスキャンを行うサービス。EC2やECRのスキャンに対応。
- **Security Hub**: AWSの設定情報を検索し、脆弱な部分を指摘。業界基準への準拠も確認可能。
- **KMS (Key Management Service)**: 暗号鍵のマネージドサービス。データの透過的暗号化やファイルの暗号化に使用。
- **Secrets Manager**: 秘密情報を安全に保管、呼び出しするサービス。RDSのパスワード変更などもサポート。


**人為的な過負荷に対する対策:**
1. **AWS Shield**: DDoS攻撃から保護するマネージドサービス。
    - **Shield Standard**: 無料で提供され、DDoS攻撃の基本的な防護を行います。
    - **Shield Advanced**: 月額3000ドルの料金で追加の機能を提供。ALBのサポート、専任チームの待機、DDoS攻撃関連の追加料金の免除など。

**その他知っておくべきAWS セキュリティサービス:**
1. **IAM Access Analyzer**: IAMポリシーのチェックを行い、大きな権限を与えていないかを確認。
2. **GuardDuty**: AWSのイベントを監視し、セキュリティインシデントの疑いがあるものを指摘。
3. **Macie**: S3バケットのデータをスキャンし、機密情報の存在を検知。
4. **Detective**: 複数のAWSサービスを横断してセキュリティインシデントの原因を特定。
5. **Network Firewall**: インターネットゲートウェイとVPCの間に配置するファイアウォールサービス。

**まとめ:**
- AWSは、セキュリティ対策のための多岐にわたるサービスを提供しています。
- 脆弱性、人為的な過負荷、認証情報の流出など、さまざまなセキュリティリスクに対して、専用のサービスや機能が存在します。
- これらのサービスを適切に活用することで、AWS上でのアプリケーションやデータのセキュリティを強化できます。

ユーザーのビジネスやアプリケーションの要件に応じて、これらのサービスを組み合わせて使用することで、包括的なセキュリティ対策を実現できます。
