# チーム開発におけるバージョン管理のワークフロー

## GitFrowとGitHubFrowの特徴と適したプロジェクト

### GitFrow
リポジトリの分岐モデル。ブランチの役割を明確に定義してブランチの乱立による混乱を防ぐ。
大規模なプロジェクトや開発フェーズに適している
![gitfrow](https://cdn.supersoftware.jp/wp-content/uploads/2022/07/21180214/Git_flow.jpg)

**各ブランチの役割**
- main
プロダクトしてリリースするブランチ。このブランチ上で作業は行わない
- feature
機能追加用のブランチ。developから分岐してdevelopにmergeする
- develop
開発用ブランチ。コードが安定しリリース準備ができたらreleaseにmergeする
このブランチ上で作業は行わない
- release
プロダクトリリース準備用のブランチ。リリース予定の機能やバグフィックスが反映されたdevelopから分岐する
準備が整ったらmainにmergeするとともにdevelopにmergeする
- hotfix
リリース後の緊急対応用。mainから分岐し、mainへmergeとともにdevelopにmergeする

**採用のメリット**
- 本番のリポジトリと修正、開発中のリポジトリを明確に分けることによって本番環境へ紛れ込むのを防ぐ
- 開発、修正ごとにリポジトリを作成でき、リリースの時期に関わらず並行して作業ができる
- リリース後の緊急対応が開発、修正と独立して対応可能
- 履歴によりリリース内容を後から追跡可能

### GitHubFrow
GitFrowと同様にリポジトリ戦略の一つ。GitHubを利用して進める
基本的に作業を行うブランチは全てmainブランチから分岐する
小規模なプロジェクトや運用フェーズに適している
![githubfrow](https://cdn.supersoftware.jp/wp-content/uploads/2022/07/21180215/GitHub_Flow.jpg)

**各ブランチの役割**
- main
本番環境用のブランチ。mainブランチは常にデプロイ可能
- feature
機能開発のためのブランチ。mainにmergeする際にpull requestを利用する


**運用ルール**
1. mainブランチはデプロイが可能な状態である
2. mainブランチから各種作業を行うブランチを作成する
3. ブランチを定期的にプッシュする
4. プルリクエストを利用してレビューを行う
5. mergeされたプルリクエストは直ちにデプロイする

**採用メリット**
- ブランチ構成が非常にシンプルで解りやすい。そのため学習コストも低い
- レビューして貰えるのでコードが良くなっていく
- forkしたリポジトリの場合はブランチ名を気にする必要がない

## 感想
普段の個人利用ではあまり気にしていなかったが、改めて学習するとプロジェクトに適したリポジトリ戦略を選択することが、
チーム開発をスムーズに行っていく上で重要であることが解る。
GitFrowは複雑ではあるが、本番環境に影響を与えないという点で安心感がある。
GitHubFrowはレビュー文化が浸透することと、開発にスピード感がある点が魅力に感じた。
インフラのコード化がまだイメージが湧いていないが、コード化＝自動化に近いと思うので、オンプレミスと比べて非常に効率的な印象を持った。
環境構築が自動化できるとそれだけでかなり業務効率化できそうだと感じた。
